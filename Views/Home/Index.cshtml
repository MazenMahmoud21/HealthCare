@{
    ViewData["Title"] = "Home";
}

@if (Context.Session.GetString("UserId") == null)
{
    <!-- Guest Landing Page -->
    <div class="container-fluid px-4 py-4">
        <!-- Welcome Banner -->
        <div class="card welcome-banner mb-4">
            <div class="card-body p-4 p-lg-5">
                <div class="row align-items-center">
                    <div class="col-lg-7">
                        <span class="badge bg-white text-primary mb-3">Healthcare Platform</span>
                        <h1 class="display-5 fw-bold text-white mb-3">Your Health, Our Priority</h1>
                        <p class="text-white-50 mb-4 lead">Manage appointments, access medical records, and connect with healthcare professionals — all in one secure platform.</p>
                        <div class="d-flex gap-3 flex-wrap">
                            <a class="btn btn-light btn-lg px-4" asp-controller="Account" asp-action="Register">
                                Get Started <i class="fas fa-arrow-right ms-2"></i>
                            </a>
                            <a class="btn btn-outline-light btn-lg px-4" asp-controller="Account" asp-action="Login">
                                Sign In
                            </a>
                        </div>
                    </div>
                    <div class="col-lg-5 d-none d-lg-flex justify-content-center">
                        <div class="hero-illustration">
                            <i class="fas fa-heartbeat"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Features Section -->
        <div class="mb-4">
            <div class="d-flex align-items-center mb-4">
                <h2 class="h5 fw-semibold mb-0">Why Choose Us</h2>
                <div class="flex-grow-1 ms-3 border-bottom"></div>
            </div>
            
            <div class="row g-3">
                <div class="col-md-6 col-lg-4">
                    <div class="card feature-card h-100">
                        <div class="card-body p-4">
                            <div class="feature-icon mb-3">
                                <i class="fas fa-user-md"></i>
                            </div>
                            <h5 class="fw-semibold mb-2">Expert Doctors</h5>
                            <p class="text-muted mb-0">Access qualified healthcare professionals across various specializations.</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-lg-4">
                    <div class="card feature-card h-100">
                        <div class="card-body p-4">
                            <div class="feature-icon feature-icon-success mb-3">
                                <i class="fas fa-calendar-check"></i>
                            </div>
                            <h5 class="fw-semibold mb-2">Easy Scheduling</h5>
                            <p class="text-muted mb-0">Book, reschedule, or cancel appointments with just a few clicks.</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-lg-4">
                    <div class="card feature-card h-100">
                        <div class="card-body p-4">
                            <div class="feature-icon feature-icon-info mb-3">
                                <i class="fas fa-file-medical-alt"></i>
                            </div>
                            <h5 class="fw-semibold mb-2">Digital Records</h5>
                            <p class="text-muted mb-0">Securely store and access your complete medical history anytime.</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-lg-4">
                    <div class="card feature-card h-100">
                        <div class="card-body p-4">
                            <div class="feature-icon feature-icon-warning mb-3">
                                <i class="fas fa-prescription-bottle-alt"></i>
                            </div>
                            <h5 class="fw-semibold mb-2">Prescriptions</h5>
                            <p class="text-muted mb-0">View and manage your prescriptions digitally in one place.</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-lg-4">
                    <div class="card feature-card h-100">
                        <div class="card-body p-4">
                            <div class="feature-icon feature-icon-danger mb-3">
                                <i class="fas fa-shield-alt"></i>
                            </div>
                            <h5 class="fw-semibold mb-2">Secure & Private</h5>
                            <p class="text-muted mb-0">Your health data is protected with enterprise-grade security.</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-lg-4">
                    <div class="card feature-card h-100">
                        <div class="card-body p-4">
                            <div class="feature-icon feature-icon-secondary mb-3">
                                <i class="fas fa-clock"></i>
                            </div>
                            <h5 class="fw-semibold mb-2">24/7 Access</h5>
                            <p class="text-muted mb-0">Access your healthcare information anytime, anywhere you need.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- CTA Section -->
        <div class="card cta-card">
            <div class="card-body p-4 p-lg-5 text-center">
                <h3 class="fw-bold mb-2">Ready to take control of your health?</h3>
                <p class="text-muted mb-4">Join thousands of patients who trust our platform for their healthcare needs.</p>
                <a class="btn btn-primary btn-lg px-5" asp-controller="Account" asp-action="Register">
                    Create Free Account
                </a>
            </div>
        </div>
    </div>
}
else
{
    <!-- Redirect logged in users to their specific dashboard -->
    var role = Context.Session.GetString("Role");
    if (role == "Admin")
    {
        Context.Response.Redirect("/Home/AdminDashboard");
    }
    else if (role == "Doctor")
    {
        Context.Response.Redirect("/Home/DoctorDashboard");
    }
    else if (role == "Patient")
    {
        Context.Response.Redirect("/Home/PatientDashboard");
    }
}